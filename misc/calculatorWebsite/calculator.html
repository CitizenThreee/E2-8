<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculator</title>

    <link rel="stylesheet" href="global.css">
    <link rel="stylesheet" href="calculator.css">
</head>

<body>
    <div id="calculator">
        <div id="resultBox">
            <h1 id="result"></h1>
        </div>

        <table id="buttons">
            <tr>
                <td><button onclick="ConcatenateNumber(7)">7</button></td>
                <td><button onclick="ConcatenateNumber(8)">8</button></td>
                <td><button onclick="ConcatenateNumber(9)">9</button></td>
                <td><button onclick="CommitOperation('+')">+</button></td>
            </tr>
            <tr>
                <td><button onclick="ConcatenateNumber(4)">4</button></td>
                <td><button onclick="ConcatenateNumber(5)">5</button></td>
                <td><button onclick="ConcatenateNumber(6)">6</button></td>
                <td><button onclick="CommitOperation('-')">-</button></td>
            </tr>
            <tr>
                <td><button onclick="ConcatenateNumber(1)">1</button></td>
                <td><button onclick="ConcatenateNumber(2)">2</button></td>
                <td><button onclick="ConcatenateNumber(3)">3</button></td>
                <td><button onclick="CommitOperation('*')">*</button></td>
            </tr>
            <tr>
                <td><button onclick="CommitOperation('%')">%</button></td>
                <td><button onclick="ConcatenateNumber(0)">0</button></td>
                <td><button onclick="CommitOperation('/')">/</button></td>
                <td><button onclick="CommitOperation('')">=</button></td>
            </tr>
        </table>
    </div>
</body>

<script>
    let value = "";
    let newNumber;
    let result;
    let operator = "";

    function CommitOperation(newOperator){
        if(newNumber != "" & newNumber != undefined){
            value = Number(value);
            newNumber = Number(newNumber);
            
            switch (operator){
                case "+": {
                    value += newNumber;
                    break;
                }
                case "-": {
                    value -= newNumber;
                    break;
                }
                case "*": {
                    value *= newNumber;
                    break;
                }
                case "/": {
                    value /= newNumber;
                    break;
                }
                case "%": {
                    value %= newNumber;
                    break;
                }
                default: {
                    value = newNumber;
                }
            }
        }
        
        newNumber = "";
        operator = newOperator;
        ChangeText();
    }

    function ConcatenateNumber(number){
        newNumber = newNumber != undefined ? String(newNumber) + String(number) : number;
        ChangeText();
    }

    function ChangeText(){
        document.getElementById("result").innerHTML = value + " " + operator + " " + newNumber;
    }
</script>
</html>